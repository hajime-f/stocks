# 米国株式の情報を集めるスクリプト

## 動作確認済みの環境

- macOS Ventura 13.2
- Docker Desktop 4.16.2
-- Engine 20.10.22
-- Compose v2.15.1
- パッケージ
-- Python 3.11.2
-- bs4 0.0.1
-- pandas 2.0.0
-- requests 2.28.2
-- tqdm 4.65.0

## 使い方

### 初回設定

まずは Docker イメージをビルドしてください。
```bash
$ make build
```
次に、コンテナを起動します。
```bash
$ make up
```
最後にデータベースを初期化します。
```bash
$ make init_database
```
この初期化には 15 時間くらいかかります。初期化中に時価が変動するとデータが狂うので、土日（米国時間）に初期化することをお勧めします。

### ２回目以降

データベースを更新します。
```bash
$ make update
```

## データベースについて

```./src/stocks.db``` に SQLite3 のデータベースが構築・更新されます。
ティッカーシンボルをテーブル名とする各テーブルには、日付・始値・高値・安値・終値・取引量が格納されます。
